# Example model configuration: Time-aware assistant with Jinja2 templates
#
# This model demonstrates the Jinja2 template feature, allowing:
# - Tool calls directly in the system prompt using {{ tool("name", arg="value") }}
# - Including reusable templates with {% include "template.j2" %}
# - Using variables from variables.yaml with {{ variable_name }}
# - Full Jinja2 features: conditionals, loops, filters, etc.

name: augmented/time-aware-assistant
upstream_model: gpt-4o-mini
description: "An assistant that always knows the current time"
owned_by: openai-proxy

# Jinja2 template syntax for system prompts
# - {{ tool("tool_name", arg="value") }} calls a tool and inserts the result
# - {{ variable }} inserts a variable from variables.yaml
# - {% include "template.j2" %} includes a template file
# - {% if condition %}...{% endif %} for conditionals
system_prompt: |
  {% include "base-assistant.j2" %}
  
  ## Current Context
  
  {% include "context/time.j2" %}
  
  When discussing time-sensitive matters, use this information to provide
  accurate responses. You can also use the get_current_time tool for
  other timezones if needed.

# The get_current_time tool is still available for the model to use
tools:
  - type: function
    function:
      name: get_current_time
      description: Get the current date and time
      parameters:
        type: object
        properties:
          timezone:
            type: string
            description: The timezone to get the time in (e.g., 'UTC', 'America/New_York', 'Europe/Berlin')
        required: []

  - type: function
    function:
      name: calculator
      description: Perform basic mathematical calculations
      parameters:
        type: object
        properties:
          expression:
            type: string
            description: The mathematical expression to evaluate (e.g., '2+2', '10*5')
        required:
          - expression
